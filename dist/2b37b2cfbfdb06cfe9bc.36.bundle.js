(window.webpackJsonpwebapp=window.webpackJsonpwebapp||[]).push([[36],{"./src/Blockly/Core/vexPrismLanguages.ts":function(r,t,e){"use strict";e.r(t),e.d(t,"updatePrismLang",function(){return c}),e.d(t,"convertArrayToRegex",function(){return u});var n=e("./src/AppInfo.ts"),a=e("./src/texteditor/utils/languageDataList.ts"),o=e("./src/PrismInterface.ts"),i=e("./src/targetPlatform.ts");function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(){P=function(){return i};var i={},c=Object.prototype,s=c.hasOwnProperty,u=Object.defineProperty||function(t,e,r){t[e]=r.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",f=t.asyncIterator||"@@asyncIterator",p=t.toStringTag||"@@toStringTag";function r(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{r({},"")}catch(t){r=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var a,o,i,c,e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),n=new _(n||[]);return u(e,"_invoke",{value:(a=t,o=r,i=n,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return L()}for(i.method=t,i.arg=e;;){var r=i.delegate;if(r){r=function t(e,r){var n=r.method,a=e.iterator[n];if(void 0===a)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),l;n=y(a,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,l;a=n.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}(r,i);if(r){if(r===l)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===c)throw c="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c="executing";r=y(a,o,i);if("normal"===r.type){if(c=i.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:i.done}}"throw"===r.type&&(c="completed",i.method="throw",i.arg=r.arg)}})}),e}function y(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}i.wrap=h;var l={};function g(){}function d(){}function e(){}var t={},a=(r(t,n,function(){return this}),Object.getPrototypeOf),a=a&&a(a(w([]))),o=(a&&a!==c&&s.call(a,n)&&(t=a),e.prototype=g.prototype=Object.create(t));function v(t){["next","throw","return"].forEach(function(e){r(t,e,function(t){return this._invoke(e,t)})})}function b(i,c){var e;u(this,"_invoke",{value:function(r,n){function t(){return new c(function(t,e){!function e(t,r,n,a){var o,t=y(i[t],i,r);if("throw"!==t.type)return(r=(o=t.arg).value)&&"object"==k(r)&&s.call(r,"__await")?c.resolve(r.__await).then(function(t){e("next",t,n,a)},function(t){e("throw",t,n,a)}):c.resolve(r).then(function(t){o.value=t,n(o)},function(t){return e("throw",t,n,a)});a(t.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}})}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function w(e){if(e){var r,t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(t=function t(){for(;++r<e.length;)if(s.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:L}}function L(){return{value:void 0,done:!0}}return u(o,"constructor",{value:d.prototype=e,configurable:!0}),u(e,"constructor",{value:d,configurable:!0}),d.displayName=r(e,p,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,e):(t.__proto__=e,r(t,p,"GeneratorFunction")),t.prototype=Object.create(o),t},i.awrap=function(t){return{__await:t}},v(b.prototype),r(b.prototype,f,function(){return this}),i.AsyncIterator=b,i.async=function(t,e,r,n,a){void 0===a&&(a=Promise);var o=new b(h(t,e,r,n),a);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},v(o),r(o,p,"Generator"),r(o,n,function(){return this}),r(o,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,r=Object(t),n=[];for(e in r)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=w,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return o.type="throw",o.arg=r,n.next=t,e&&(n.method="next",n.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e],o=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var i=s.call(a,"catchLoc"),c=s.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}var o=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r,n,a=this.tryEntries[e];if(a.tryLoc===t)return"throw"===(r=a.completion).type&&(n=r.arg,x(a)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:w(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},i}function l(t,e,r,n,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}var s=null;function c(){return f.apply(this,arguments)}function f(){var c;return c=P().mark(function t(){var e,r;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.appState.getAppState().robotModel,r={},!i.targetIsPlaygrounds){t.next=62;break}if("rover"===e)return t.next=6,Object(a.language_List_PG_Python_Rover)();t.next=9;break;case 6:r=t.sent,t.next=60;break;case 9:if("vrc22"===e)return t.next=12,Object(a.language_List_PG_Python_VRC)();t.next=15;break;case 12:r=t.sent,t.next=60;break;case 15:if("vrc23"===e)return t.next=18,Object(a.language_List_PG_Python_VRC)();t.next=21;break;case 18:r=t.sent,t.next=60;break;case 21:if("vrc24"===e)return t.next=24,Object(a.language_List_PG_Python_VRC)();t.next=27;break;case 24:r=t.sent,t.next=60;break;case 27:if("v5rc25"===e)return t.next=30,Object(a.language_List_PG_Python_VRC)();t.next=33;break;case 30:r=t.sent,t.next=60;break;case 33:if("viqc22"===e)return t.next=36,Object(a.language_List_PG_Python_VIQC)();t.next=39;break;case 36:r=t.sent,t.next=60;break;case 39:if("viqc23"===e)return t.next=42,Object(a.language_List_PG_Python_VIQC)();t.next=45;break;case 42:r=t.sent,t.next=60;break;case 45:if("viqc24"===e)return t.next=48,Object(a.language_List_PG_Python_VIQC)();t.next=51;break;case 48:r=t.sent,t.next=60;break;case 51:if("viqc25"===e)return t.next=54,Object(a.language_List_PG_Python_VIQC)();t.next=57;break;case 54:r=t.sent,t.next=60;break;case 57:return t.next=59,Object(a.language_List_PG_Python_Basic)();case 59:r=t.sent;case 60:t.next=78;break;case 62:if(i.targetIsEXP&&"python"===n.appState.getAppState().lang&&"Blocks"===n.appState.getAppState().mode)return t.next=65,Object(a.language_List_EXP)();t.next=68;break;case 65:r=t.sent,t.next=78;break;case 68:if(i.targetIsV5&&"Blocks"===n.appState.getAppState().mode&&"python"===n.appState.getAppState().lang)return t.next=71,Object(a.language_List_V5)();t.next=74;break;case 71:r=t.sent,t.next=78;break;case 74:if(i.targetIsIQ)return t.next=77,Object(a.language_List_IQ2)();t.next=78;break;case 77:r=t.sent;case 78:if(s){t.next=81;break}return t.next=81,Object(o.getPrism)();case 81:s.languages["vex-py"]=s.languages.extend("python",{vexclass:{pattern:u(r.vexclass),alias:"vexclass"},vexclassinstance:{pattern:u(r.vexclassinstance),alias:"vexclassinstance"},vexfunctions:{pattern:u(r.vexfunctions),alias:"vexfunctions"},vexenumglobals:{pattern:u(r.vexenumglobals),alias:"vexenumglobals"},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|None|not|or|pass|raise|return|try|while|with|yield|abs|all|any|apply|basestring|bin|bool|buffer|bytearray|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|input|intern|int|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|raw_input|reduce|reload|repr|reversed|round|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|raw_input|reduce|reload|repr|reversed|round|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/});case 82:case"end":return t.stop()}},t)}),(f=function(){var t=this,i=arguments;return new Promise(function(e,r){var n=c.apply(t,i);function a(t){l(n,e,r,a,o,"next",t)}function o(t){l(n,e,r,a,o,"throw",t)}a(void 0)})}).apply(this,arguments)}function u(t){t=t&&0<t.length?t.join("|"):"";return new RegExp("\\b(?:"+t+")\\b")}Object(o.getPrism)().then(function(t){s=t})}}]);